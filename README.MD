# Media queries with non-JS IE8 workaround

## Introduction
When following the responsive, mobile first methodology, there's always an issue of how to support those browsers which don't have media query support, such as IE8. Some advocate serving up a modified version of the mobile view to such browsers. While others advocate the use of JavaScript polyfills, such as [respond.js](https://github.com/scottjehl/Respond), which goes some way to solving this issue, but also raises a few of its own, notably performance and the reliance on JavaScript being enabled.

### An alternative approach

My approach allows you to continue building mobile first (as you normally would) but also to choose a fallback view for IE8 and other non-supporting browsers.

### How it works

The media-query mixin (from `_config.scss`):

``` scss
// @media-query
// $breakpoint (string) Breakpoint ID
// $include (boolean) Flag to include @content
@mixin media-query( $breakpoint, $include: true ){
	$media-query : get-item-by-name( $breakpoint, $media-query-ids, $media-queries );
	@if $supports-mq {
		@media #{ $media-query } { @content; };
	}
	@else {
		@if $breakpoint == $default-breakpoint {
			@if $include {
				@content;
			}
		}
	}
}
```

And in your CSS, use the `@media-query` mixin to include a mixin using a pre-defined breakpoint name:

``` scss
.col{
	@include media-query( wide ){
		width: 25%;
	};
	@include media-query( superwide ){
		float: left;
		width: 12.5%;
	};
}
```
As we've specified `wide` to be our default view, IE8 will get any @content where that media query has been specified.

An optional boolean parameter can be passed which excludes the content from those without media query support.
``` scss
@include media-query( wide, false ){
	background: #333;
};
```

In our site we have two main stylesheets (could be as many as you like really but I'm keeping it simple): `ie.css` (for IE) and `main.css` (for those that support media queries). These are generated by Sass from `ie.scss` and `main.scss`. Each of these has the flag `$supports-mq`, which is set to `true` for `main.scss` and `false` for `ie.scss`.

**ie.scss**
```
$supports-mq: false;
$default-breakpoint: wide;

@import "_styles";
```

**base.scss**
```
$supports-mq: true;

@import "_styles";
```

### More to followâ€¦
...

#### Credits
By Justin Perry, 2013